# Google Custom Search APIによるサジェスト実装サンプル

## 概要

Google Custom SearchによるAPIによる、検索及びサジェスト実装をテスト実装のサンプルデータです。

### 実装準備
https://developers.google.com/custom-search/json-api/v1/overview  
上記サイトより、**APIキー**を取得します。

次に https://cse.google.com より検索エンジンの設定を行う。 

この設定で作られた検索エンジンの**検索エンジン ID**とAPIキーを組み合わせて使用することで、特定URL内の検索を行うカスタム検索をAPIで利用することが可能です。

### サンプル実装
https://uki213.github.io/googleSerachApiTest/

上記サイトにサンプルを実装済み。
ただし、APIキーなどの流出を防ぐため実際のAPIから返却されたデータを元に仮のjsonにアクセスしています。  
※github内に「てすと」というワードで検索した戻り値

### サジェストについて

サジェストをcustom APIがリクエスト数が1000件で5ドルと言うものの為、その対策案としてサジェスト表示までに5秒待機を行い、リクエストの丸め処理を行っています。

入力枠に入力イベントが発生した場合、5秒後にAPIアクセスを行いますが、5秒前に再度入力が発生した場合は、それ以前のタイマー処理を破棄し再度5秒後にAPIアクセスを行うようになっています。  
に入力をし続けるとタイマー処理はその間常に先送りになります。
